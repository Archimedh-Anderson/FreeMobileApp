================================================================================
MANUAL UI TESTING CHECKLIST - Classification Provider Functionality
================================================================================
Date: 2025-11-15
Application: FreeMobilaChat
Test Focus: Provider Selection UI and Workflow Integration

================================================================================
AUTOMATED TEST RESULTS SUMMARY
================================================================================

‚úì PASS - Test 1: Ollama Service Available
  - Ollama is running with 12 models
  - Mistral model is available
  - Status: OPERATIONAL

‚úì PASS - Test 4: Gemini Unconfigured - Graceful Fallback
  - GeminiClassifier initializes with None client/model
  - Fallback to BERT + Rules is active
  - Status: WORKING AS EXPECTED

‚úì PASS - Test 6: Classification Module Loading
  - All 4 modules loaded successfully:
    - RuleClassifier
    - BERTClassifier  
    - MistralClassifier
    - GeminiClassifier
  - Status: ALL MODULES AVAILABLE

‚úì PASS - Test 7: Provider Availability Check Functions
  - check_ollama_availability() returns True
  - check_gemini_availability() returns False
  - Status: DETECTION WORKING

SKIPPED - Test 2: Ollama Unavailable Detection
  - Reason: Ollama is currently running
  - Manual Test Required: Stop Ollama and verify UI shows unavailable

SKIPPED - Test 5: No Providers Available
  - Reason: Ollama is available
  - Manual Test Required: Stop Ollama to test zero-provider scenario

INFO - Test 3: Gemini API Configuration
  - Gemini API key is not configured
  - Status: NOT CONFIGURED (Expected)

================================================================================
MANUAL UI TESTS - CHECKLIST
================================================================================

Application URL: http://localhost:8502
Test Execution Time: 2025-11-15 23:46:37

--------------------------------------------------------------------------------
TEST 8: Verify Sidebar UI Components
--------------------------------------------------------------------------------
Location: Streamlit sidebar

‚ñ° STEP 1: Open application at http://localhost:8502
  - Browser opens successfully
  - Application loads without errors
  - Login/authentication works (if required)

‚ñ° STEP 2: Navigate to Classification page
  - Click on "Classification Mistral" page
  - Page loads successfully

‚ñ° STEP 3: Verify sidebar structure
  - Sidebar is visible on left side
  - "Mode de Classification" section visible with icon üéöÔ∏è
  - Mode options: RAPIDE, √âQUILIBR√â, PR√âCIS

‚ñ° STEP 4: Verify "Fournisseur de Traitement" section
  ‚úì Section header displays: "Fournisseur de Traitement"
  ‚úì Microchip icon (üîå) visible next to header
  ‚úì Modern gradient styling applied
  
‚ñ° STEP 5: Verify provider buttons layout
  ‚úì Two buttons displayed side-by-side
  ‚úì Left button: "üñ•Ô∏è Local (Mistral)"
  ‚úì Right button: "‚òÅÔ∏è Cloud (Gemini)"
  ‚úì Buttons have modern gradient design
  ‚úì Equal width columns (50/50 split)

Expected State (Based on Test Results):
  - Mistral button: ENABLED (green gradient)
  - Gemini button: DISABLED (gray gradient)

--------------------------------------------------------------------------------
TEST 9: Verify Provider Status Indicators
--------------------------------------------------------------------------------

‚ñ° STEP 1: Check Mistral status
  Expected (Ollama Running):
  ‚úì Status shows: "‚úì Disponible" with green success styling
  ‚úì Green checkmark icon (‚úÖ) displayed
  ‚úì Button is clickable/enabled
  
‚ñ° STEP 2: Check Gemini status
  Expected (API Not Configured):
  ‚úì Status shows: "‚Ñπ Configuration requise" with blue info styling
  ‚úì Info icon (‚ÑπÔ∏è) displayed
  ‚úì Button is grayed out/disabled

‚ñ° STEP 3: Verify visual design
  ‚úì Status messages use appropriate colors
  ‚úì Icons are properly rendered (no raw HTML)
  ‚úì Text is readable and properly aligned

--------------------------------------------------------------------------------
TEST 10: Test Provider Selection - Mistral (Local)
--------------------------------------------------------------------------------

‚ñ° STEP 1: Click "üñ•Ô∏è Local (Mistral)" button
  ‚úì Button click is registered
  ‚úì Page refreshes (Streamlit rerun)
  
‚ñ° STEP 2: Verify selection feedback
  ‚úì Green gradient card appears below buttons
  ‚úì Card shows: "Traitement local avec Mistral AI"
  ‚úì Privacy message: "Vos donn√©es restent sur votre machine"
  ‚úì Green checkmark icon visible
  ‚úì Card has green left border (4px solid #10B981)

‚ñ° STEP 3: Verify session state
  ‚úì st.session_state.selected_provider = 'mistral'
  ‚úì st.session_state.config['provider'] = 'mistral'

--------------------------------------------------------------------------------
TEST 11: Test Provider Selection - Gemini (Cloud)
--------------------------------------------------------------------------------

‚ñ° STEP 1: Attempt to click "‚òÅÔ∏è Cloud (Gemini)" button
  Expected (API Not Configured):
  ‚úì Button is disabled - click does nothing
  ‚úì Gray gradient styling remains
  ‚úì No page refresh occurs
  
‚ñ° STEP 2: Configure Gemini API (if testing enabled state)
  Manual Action:
  1. Stop Streamlit app
  2. Edit .env file
  3. Add valid GEMINI_API_KEY
  4. Restart app: streamlit run streamlit_app/app.py
  
‚ñ° STEP 3: Verify enabled state (if API configured)
  Expected:
  ‚úì Button changes to blue gradient
  ‚úì Status shows: "‚úì Disponible"
  ‚úì Button is clickable
  
‚ñ° STEP 4: Click enabled Gemini button
  ‚úì Page refreshes
  ‚úì Blue gradient card appears
  ‚úì Card shows: "Traitement cloud avec Google Gemini"
  ‚úì Message: "Pr√©cision maximale avec l'IA de Google"
  ‚úì Cloud icon visible
  ‚úì Card has blue left border

--------------------------------------------------------------------------------
TEST 12: Test Auto-Selection Mode
--------------------------------------------------------------------------------

‚ñ° STEP 1: Verify default state on page load
  ‚úì No provider explicitly selected initially
  ‚úì Gray card displays: "S√©lection automatique"
  ‚úì Magic wand icon (ü™Ñ) visible
  ‚úì Message: "Le meilleur fournisseur sera choisi automatiquement"

‚ñ° STEP 2: Verify auto-selection behavior
  ‚úì Session state: selected_provider = 'auto'
  ‚úì Gray gradient styling
  ‚úì Card has gray left border

--------------------------------------------------------------------------------
TEST 13: Test with Ollama Stopped (Manual Intervention Required)
--------------------------------------------------------------------------------

Manual Preparation:
1. Stop Ollama service (close application or kill process)
2. Refresh Streamlit page

‚ñ° STEP 1: Verify Mistral button disabled state
  Expected:
  ‚úì Button shows gray gradient
  ‚úì Status: "‚ö† Non disponible" with warning icon
  ‚úì Button is disabled/unclickable
  ‚úì Opacity reduced (0.6)

‚ñ° STEP 2: Verify both providers unavailable
  If Gemini also unconfigured:
  ‚úì Both buttons are disabled
  ‚úì Both show unavailable/config required status
  ‚úì Auto-selection card displays
  ‚úì Application still functions (no crashes)

‚ñ° STEP 3: Verify fallback messaging
  ‚úì No error popups or exceptions
  ‚úì System uses BERT + Rules automatically
  ‚úì Classification still works (test with file upload)

--------------------------------------------------------------------------------
TEST 14: Test Classification Workflow Integration
--------------------------------------------------------------------------------

‚ñ° STEP 1: Select Mistral provider
  ‚úì Click "üñ•Ô∏è Local (Mistral)" button
  ‚úì Confirm selection card appears

‚ñ° STEP 2: Upload test file
  ‚úì Click file upload area
  ‚úì Select CSV/Excel file with text data
  ‚úì File uploads successfully
  ‚úì Preview shows data

‚ñ° STEP 3: Verify provider is used in classification
  ‚úì Click "Classify" or "Start Classification" button
  ‚úì Processing begins
  ‚úì Progress bar displays
  ‚úì Check logs/output for Mistral mentions
  ‚úì Results display correctly

‚ñ° STEP 4: Switch to different provider
  ‚úì Select different provider (if available)
  ‚úì Re-run classification
  ‚úì Verify different provider is used
  ‚úì Results still accurate

--------------------------------------------------------------------------------
TEST 15: Test Responsive Design and Edge Cases
--------------------------------------------------------------------------------

‚ñ° STEP 1: Test sidebar collapse/expand
  ‚úì Collapse sidebar
  ‚úì Expand sidebar
  ‚úì Provider section maintains formatting
  ‚úì Buttons remain functional

‚ñ° STEP 2: Test rapid clicking
  ‚úì Rapidly click provider buttons
  ‚úì No crashes or errors
  ‚úì Selection state updates correctly

‚ñ° STEP 3: Test browser refresh
  ‚úì Select provider
  ‚úì Refresh browser (F5)
  ‚úì Check if selection persists (or resets to auto)
  ‚úì No errors on reload

‚ñ° STEP 4: Test different screen sizes
  ‚úì Resize browser window
  ‚úì Buttons remain in 2-column layout
  ‚úì Text remains readable
  ‚úì Icons display correctly

--------------------------------------------------------------------------------
TEST 16: Verify Advanced Settings Integration
--------------------------------------------------------------------------------

‚ñ° STEP 1: Verify other sidebar sections
  ‚úì "‚öôÔ∏è Param√®tres de Nettoyage" expander works
  ‚úì "‚ÑπÔ∏è Informations Syst√®me" expander works
  ‚úì "üë• Gestion des R√¥les" expander works
  ‚úì Footer shows version and date

‚ñ° STEP 2: Verify no conflicts
  ‚úì Provider selection doesn't break other settings
  ‚úì All checkboxes/inputs still functional
  ‚úì Mode selection still works

--------------------------------------------------------------------------------
TEST 17: Verify Font Awesome Icons
--------------------------------------------------------------------------------

‚ñ° STEP 1: Check all icons render correctly
  ‚úì Microchip icon (fa-microchip) in section header
  ‚úì Checkmark icon (fa-check-circle) in status
  ‚úì Warning icon (fa-exclamation-circle) for unavailable
  ‚úì Info icon (fa-info-circle) for config required
  ‚úì Cloud icon (fa-cloud) in Gemini card
  ‚úì Magic icon (fa-magic) in auto-selection card

‚ñ° STEP 2: Verify no raw HTML
  ‚úì No <i class="fas..."> text visible
  ‚úì All icons display as symbols
  ‚úì Font Awesome CDN loaded

================================================================================
KNOWN ISSUES & EXPECTED BEHAVIORS
================================================================================

1. Gemini API Not Configured (EXPECTED)
   - Gemini button will be disabled
   - "‚Ñπ Configuration requise" status shown
   - This is normal when .env has no API key

2. PyTorch Warning (EXPECTED)
   - May see warning about PyTorch not available
   - BERT classifier will still work with transformers
   - Not a critical issue

3. Session State Behavior
   - Provider selection may reset on page refresh
   - This is Streamlit's stateless nature
   - Use st.session_state for persistence within session

================================================================================
PASS/FAIL CRITERIA
================================================================================

CRITICAL (Must Pass):
‚úì Sidebar displays "Fournisseur de Traitement" section
‚úì Two provider buttons visible
‚úì Status indicators show correct availability
‚úì No crashes when selecting providers
‚úì Classification workflow executes successfully
‚úì Graceful fallback when providers unavailable

IMPORTANT (Should Pass):
‚úì Modern gradient styling applied
‚úì Icons render correctly (no raw HTML)
‚úì Status messages are accurate
‚úì Selection cards display with correct styling
‚úì Disabled buttons cannot be clicked

NICE-TO-HAVE (May Pass):
‚ñ° Smooth transitions on selection
‚ñ° Hover effects on buttons
‚ñ° Selection persists across page refreshes

================================================================================
COMPLETION CHECKLIST
================================================================================

‚ñ° All automated tests reviewed (7 tests)
‚ñ° All manual UI tests executed (Tests 8-17)
‚ñ° Screenshots captured for documentation
‚ñ° Issues documented (if any)
‚ñ° Test report generated and saved
‚ñ° Stakeholders notified of results

================================================================================
NOTES & OBSERVATIONS
================================================================================

Date: _______________
Tester: _______________

Test Execution Notes:
_______________________________________________________________________
_______________________________________________________________________
_______________________________________________________________________

Issues Found:
_______________________________________________________________________
_______________________________________________________________________
_______________________________________________________________________

Recommendations:
_______________________________________________________________________
_______________________________________________________________________
_______________________________________________________________________

Overall Assessment:
‚ñ° PASS - All critical and important tests passed
‚ñ° PASS WITH WARNINGS - Minor issues found
‚ñ° FAIL - Critical issues require fixing

Signature: _______________          Date: _______________

================================================================================
END OF CHECKLIST
================================================================================
